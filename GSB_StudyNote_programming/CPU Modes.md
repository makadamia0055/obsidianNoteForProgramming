---
tags:
  - cpu
  - OS
aliases:
  - CPU Modes
  - CPU 모드
  - 이중 모드
  - Dual mode
---
# CPU Modes란?
- CPU 모드는 대부분 컴퓨터 아키텍처의 CPU에 대한 작동 모드 모델, 혹은 유형으로 프로세스에서 수행할 수 있는 작업의 유형과 범위를 계층화하여, 모드로서 관리하는 시스템 모델이다.
- 대부분의 CPU Modes 모델은 **커널 모드**와 **사용자 모드**로 나뉜다.
	- 커널 모드
		- 시스템 리소스와 하드웨어에 대한 모든 접근 권한을 가지는 모드
		- 가장 높은 권한을 가지며, [[Operating System Kernel|운영체제 커널]]이 주로 이 모드로 실행된다.
	- 사용자 모드
		- 특정 명령에나 시스템 자원에 대한 직접적인 접근이 제한되는 모드
		- 가장 낮은 권한을 가지며, 사용자 응용 프로그램이 주로 이 모드로 실행된다.
	- 이 이외에도 [[Virtual Machine]]가 등장한 이후, [[Virtualization|가상화]]를 지원하기 위해서 현대 [[CPU]]는 Hypervisor 모드를 지원한다.
		- 가상 머신은 소프트웨어적으로 만들어낸 가상 컴퓨터로, 가상 머신 위에 [[OS|운영체제]]를 새로 설치할 수 있고, 사용자 응용 프로그램도 실행할 수 있다.
			- 그런데 기존의 2가지 모드로는 가상 머신의 응용 프로그램이 커널 모드 전환을 요구할 때 대응할 수 없었다.(가상 머신도 사용자 응용 프로그램이기 때문에)
			- 때문에 Hypervisor 모드를 도입하여 가상 머신에 설치된 응용 프로그램의 시스템 콜을 지원할 수 있게 하였다.
- 이렇게 CPU의 권한 모델을 나눈 이유는 사용자와 [[OS|운영체제]] 간의 권한을 분리하여, 시스템의 안전성과 보안을 유지하기 위함이다. 
	- 연관 개념 : Protection Ring 
		- CPU와 OS 추상화 수준 간의 상호 운용에 대한 보안 모델.
		- 커널을 중심으로 한 Ring 0에서부터 권한에 따라 동심원 형태로 권한 계층화를 구현한 보안 모델.
	- 이러한 CPU 권한 모델을 통해서, 사용자 응용 프로그램의 권한을 제약함으로써, 사용자 응용 프로그램이 무분별하게 시스템 자원을 이용하지 하지 않도록 제약한다.
- 사용자 응용 프로그램의 프로세스가 사용자 모드로 제약 된 작업을 수행할 필요가 있을 때는 [[System call]]이라는 인터페이스를 이용해 [[Operating System Kernel|운영체제 커널]]에 필요한 작업을 위임한다.

## [[System call|시스템 콜]]과 사용자 모드-커널 모드의 전환
![[System call|시스템 콜]]

## 레퍼런스
- [CPU 모드 - 위키피디아](https://en.wikipedia.org/wiki/CPU_modes)